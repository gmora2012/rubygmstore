<h1>Available Products<h1>
<hr>
<h4 for="name"><b>Filtering options:</b></h4>
<br/>
<div class="row">
    <div class="col-sm-3">
        <%= form_tag products_path, :method => 'get' do %>
            <h6 for="name"><b>Search by Name:</b></h6>
            <%= text_field_tag(:search, params[:search], style: "height: 35px;width: 100%;border-color:rgb(0 0 0 / 15%);border-radius: 5px") %><br />
            <%= submit_tag ("Search"), class: "btn btn-primary", style: "margin-top: 5px" %>
        <% end %>
    </div>
    <div class="col-sm-3">
        <%= form_tag(products_path, method: :get) do %>
            <h6 for="name"><b>Search by Category:</b></h6>
            <%= collection_select :category, :id, Category.all, :id, :name,{include_blank: 'All Categories'}, { class: "form-control dropdown-toggle", style: "height: 35px;border-color:rgb(0 0 0 / 15%);border-radius: 5px" } %>
            <%= submit_tag ("Filter"), class: "btn btn-primary", style: "margin-top: 5px" %>
        <% end %>
    </div>
        <div class="col-sm-3">
        <%= form_tag(products_path, method: :get) do %>
            <h6 for="name"><b>Search by Store:</b></h6>
            <%= collection_select :store, :id, Store.all, :id, :name,{include_blank: 'All Stores'}, { class: "form-control dropdown-toggle", style: "height: 35px;border-color:rgb(0 0 0 / 15%);border-radius: 5px" } %>
            <%= submit_tag ("Filter"), class: "btn btn-primary", style: "margin-top: 5px" %>
        <% end %>
    </div>
    <div class="col-sm-3">
        <h6><b>Create New Product:</b></h6>
        <%= link_to "Create (+)", products_new_path, class: "btn btn-primary" %>
    </div>
</div>
<hr>
<h4><b>Products List:</b></h4>
<br />
<div class="table-responsive">
<table class="table table-striped table-sm">
    <thead>
    <tr>
        <th scope="col">Name</th>
        <th scope="col">Color</th>
        <th scope="col">Category</th>
        <th scope="col">Box Size (Kg) </th>
        <th scope="col">Price ($)</th>
        <th scope="col">Stores</th>
        <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <% @products.each do |product| %>
    <tr>
        <td><%= product.name %></td>
        <td><%= product.color %></td>
        <td><%= product.category.name %></td>
        <td><%= product.size %></td>
        <td><%= product.price %></td>
        <td><%= product.store.name %></td>
        <td>
            <%= link_to "Edit", edit_product_path(product), class: "btn btn-warning"  %>
            <%= link_to "Delete", product, method: :delete, data: {confirm: "Do you want to delete the product?"}, class: "btn btn-danger"  %>
        </td>
    </tr>
    <% end %>
    </tbody>
</table>
</div>